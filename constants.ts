
import { ModelName } from './types';

// IMPORTANT: Replace with your actual Google Cloud credentials
// Fix: Explicitly type GOOGLE_API_KEY and GOOGLE_CLIENT_ID as string to allow comparison with placeholder values.
export const GOOGLE_API_KEY: string = "AIzaSyDz33TOhvILgJZdxbPkOi0DAbPfy7HaYJM"; // Used for GAPI
export const GOOGLE_CLIENT_ID: string = "278869104934-9v50r9jo2npnqcdudbigmuh51lkmeunh.apps.googleusercontent.com"; // Used for OAuth 2.0

export const MODEL_LIMITS: { [key in ModelName]: number } = {
    'gemini-2.5-flash': 250,
    'gemini-flash-lite-latest': 1000,
    'gemini-2.5-pro': 50,
    'gemini-3-pro-preview': 50,
    'cerebras/llama-3.1-70b': 200,
    'cerebras/gpt-oss-120b': 100,
    'gpt-oss/custom': 1000, // Default generous limit for custom endpoints
};

export const MODEL_RATE_LIMITS: { [key in ModelName]: number } = {
    'gemini-2.5-flash': 10,
    'gemini-flash-lite-latest': 15,
    'gemini-2.5-pro': 2,
    'gemini-3-pro-preview': 2,
    'cerebras/llama-3.1-70b': 5,
    'cerebras/gpt-oss-120b': 3,
    'gpt-oss/custom': 20, // Default generous rate limit
};

export const DEFAULT_EXTRACTION_PROMPT = `ROLE: Expert Web Novel Terminology Extractor.
TASK: Analyze the "English Text" and "Arabic Translation" below. Extract key proper nouns and terms for the Glossary (Codex).

STRICT RULES:
1. **Categories**: Classify each term into one of: 'character', 'location', 'item', 'rank', 'other'.
2. **Format**: Return a clean JSON array of objects.
3. **Content**: 
   - "name": The exact English name (Capitalized).
   - "translation": The exact Arabic translation used in the text.
   - "description": A very short context (2-4 words, e.g. "Main Protagonist", "Sword Skill").
4. **Filter**: Ignore common words. Only specific names, places, and unique cultivation terms.

OUTPUT JSON STRUCTURE:
[
  { "category": "character", "name": "Fang Yuan", "translation": "فانغ يوان", "description": "Protagonist" }
]

English Text (Excerpt):
"""{{ENGLISH_TEXT}}"""

Arabic Text (Excerpt):
"""{{ARABIC_TEXT}}"""

RETURN ONLY JSON:`;

// Default prompt based on V1.9 Rules provided by user - EXACT COPY
export const SYSTEM_PROMPT = `1.9
تعليمات ملزمة لترجمة الفصول (يُطبَّق كل بند بنسبة 100%)
من فضلك فكّر جيدًا قبل الترجمة وخذ وقتك ولا تستعجل. طبّق جميع القواعد بحذافيرها، فأنا لدي وقت وسأنتظر، لذلك أرجو ألا يكون هناك أي خطأ أو تجاوز للقواعد.
القواعد :
0) مبدأ عام
هذه هي القواعد الكاملة لترجمة النصوص، ويجب تطبيقها بنسبة 100% على النص الموجود في نهاية الرسالة.
من فضلك فكّر جيدًا قبل الترجمة وخذ وقتك ولا تستعجل. طبّق جميع القواعد بحذافيرها، فأنا لدي وقت وسأنتظر، لذلك أرجو ألا يكون هناك أي خطأ أو تجاوز للقواعد.
ممنوع تجاوز أي قاعدة، وممنوع إضافة كلام خارج المطلوب.
تحذير نظامي صارم: ممنوع منعًا قطعيًا على النموذج إدراج أو توليد أو استرجاع أي حرف أو كلمة أو رمز من أي لغة غير عربية داخل النص النهائي، بما في ذلك الصينية واليابانية والكورية واليونانية واللاتينية وكافة الأنظمة الأخرى.
أي محاولة لإنتاج نص أجنبي يجب حذفها فورًا.
وُيجبر النموذج على اختيار تعبير عربي فقط حتى لو كان تخمينيًا أو وصفيًا.
هذا التحذير أعلى أولوية من جميع القواعد الأخرى ويجب تنفيذه بنسبة 100%.


1) ترتيب الإخراج الإجباري
1. عنوان الفصل (صيغة ثابتة):
الفصل {رقم}: العنوان
مثال: الفصل 381: تلقي إرث طائفة تشينغيون


قاعدة فرعية: ترجمة العنوان المستقل (Chapter N)
الشرط: إذا كان السطر يتكّون فقط من عنوان فصل بصيغة Chapter {رقم} (بأي حالة أحرف)، بدون أي نص آخر في نفس السطر.
الإجراء: تُترجم العبارة إلى: الفصل {الرقم} فقط.
الأولوية: تتقّدم هذه القاعدة على سائر القواعد، ولا تُطبّق أي قاعدة أخرى على هذا السطر.
التنسيق: يُحاَفظ على الرقم كما هو، مع الإبقاء على فاصل السطر كما في الأصل.
الاستثناء: إذا جاء بعد العنوان نص في نفس السطر (مثلاً: Chapter 1: Introduction) فلا تنطبق هذه القاعدة.
أمثلة
Chapter 1 ⟶ الفصل 1
CHAPTER 12 ⟶ الفصل 12


قاعدة فرعية مضافة: التعامل مع العناوين التي تحتوي على رقم مسبوق بـ #
الشرط: إذا احتوى السطر على رقم مسبوق بعلامة # يسبق كلمة "Chapter"، مثل:
[#260Chapter 259 [On Crime] [Arrest] [Judgment]
الإجراء:
1. يعتمد الرقم الذي يلي علامة # كرقم الفصل الأساسي.
2. إذا كان الرقم بعد كلمة "Chapter" مختلفًا عن الرقم بعد #، يتم تجاهل رقم "Chapter" وُيستخدم فقط رقم الـ #.
3. إذا كان الرقمان متطابقين، تتم الترجمة مرة واحدة فقط دون تكرار الرقم.
4. تُحذف كلمة "Chapter" وكل ما يتعلق بها من أرقام داخل السطر.
5. إذا وُجد بعد العنوان نص إضافي (مثل كلمات بين أقواس أو عنوان فرعي)، يُحاَفظ عليه كما هو بعد الترجمة.
6. الناتج النهائي يكون بالشكل التالي:
> الفصل {رقم الـ #}: {بقية النص بعد العنوان إن وُجد}


الأولوية: تُطبّق هذه القاعدة قبل قاعدة "ترجمة العنوان المستقل (Chapter N)"، وتتقّدم عليها.


أمثلة:
[#260Chapter 259 [On Crime] [Arrest] [Judgment] ⟶ الفصل 260: [حول الجريمة] [الاعتقال] [الحكم]
#122Chapter 122 ⟶ الفصل 122
[#48Chapter 47 [Duel of Masters] ⟶ الفصل 48: [مواجهة الأساتذة]


القاعدة التكميلية: معالجة العناوين ذات رقمين للفصل
الشرط: إذا كان السطر يحتوي على الصيغة التالية:
> Chapter {رقم1}: Chapter {رقم2} {نص إضافي}
حيث {رقم1} و {رقم2} كلاهما أرقام صحيحة موجبة.
الإجراء:
1. يعتمد {رقم1} كرقم الفصل الرسمي.
2. يُحذف الجزء الثاني الذي يبدأ من كلمة Chapter {رقم2} حتى نهاية هذا الجزء أو أول فاصل نصي (مثل النقطة أو الشرطة السفلية _ أو نهاية السطر).
3. بعد التنقية، يُحتفظ بأي عنوان حقيقي متبقّ (كلمات، أقواس، إلخ) ليكون العنوان بعد النقطتين.
4. يُحذف أي جزء يحتوي على العبارات التالية (بأي حالة أحرف):
(Subscribe Please), (Please Subscribe), (Sub Please), (اشترك) أو (يرجى الاشتراك), وأي عبارات مشابهة تُشير إلى طلب اشتراك أو دعم.
5. النتيجة النهائية تكون بالشكل: الفصل {رقم1}: {العنوان المنقّى إن وُجد}
6. إذا لم يبقَ عنوان بعد التنقية، يكون الناتج: الفصل {رقم1}


2) قواعد الترجمة الأساسية
الترجمة يجب أن تكون كاملة 100% من بداية النص حتى نهايته، بدون حذف أو دمج أو اختصار أي فقرة.
النص العربي الخالص: يجب أن يكون النص المترجم كاملاً باللغة العربية الفصحى الحديثة. لا يُسمح بوجود أي حروف غير عربية في الناتج (باستثناء الأرقام 0-9 المسموح بها أدناه).
الترجمة الإجبارية لكل كلمة: تُترجم كل كلمة تظهر في النص الأصلي (صينية/إنجليزية/غيرها). إن لم يوجد مقابل عربي واضح، تُعرّب صوتيًا (مثال: Beijing → بكين).
علامة التوقف النهائية:
ترك سطرين فارغين بين كل فقرة وأخرى.
أي نص يكون قبل كلمة chapter لا يترجم في بعض الروايات تكتب اسم الرواية قبل الفصل لذلك اي نص في بداية النص يكون قبل chapter لا تترجمه.
إزالة جميع الرموز التعبيرية من الترجمة، باستثناء رموز المقدمة الثابتة إن ظهرت.
ممنوع كتابة أي كلام خارج النص المترجم.
يجب التوقف فورًا وحذف أي صيغة من نوع Ch. X/Y أو ما يشبهها، وحذف كل ما يأتي بعدها.


3) قاعدة استبدال المصطلحات الدينية والروحية (إجباري حسب السياق) (Override: Forbidden — أمر علوي محظور)
عند الترجمة، استبدل المصطلحات الأجنبية بما يناسبها من القائمة التالية. اختر البديل الأنسب وفق السياق:


| المصطلح الأصلي | البدائل المقترحة |
|---|---|
| Divine/Deity/Almighty/إله/آلهة/إلهي/إلهية | حاكم/حاكمة/حكام/حاكمات/عظيم/سماوي/علوي/حاكم/قوة عظمى |
| إله + عنصر/صفة | حاكم + العنصر/الصفة |
| الوعي الإلهي | الوعي الإلهي / الوعي الإلهي|
| قديس/قديسة | قديس/قدسية|
| رب (صفة) | حاكم |
| Immortal  | الخالد     |
| Cultivation / Cultivating Immortals | الزراعة  / زراعة الخالدين    |
| God King | الملك العظيم |
| God Emperor | الإمبراطور العظيم |
| Immortal Cultivation Simulator | محاكي الزراعة الخالدة |
Lord | لورد
| Lord of Heaven | لورد السماء |
| Pantheon | مجمع الحكام العظماء |
| Divine Power/Weapon/Blessing/Artifact | القوة الإلهية/السلاح الإلهي/البركة الإلهية/الأداة الإلهية|
| Divine Blessing/Blessing | بركة/البركة العظمى/فضل/نعمة |
| Divine Curse/Curse | اللعنة العظمى/اللعنة|
| Ritual/Sacrament/Liturgy | طقس/سر عظيم /ليتورجيا|
| Relic | أثر  (جمع: آثار ) |
| Prophecy/Oracle | نبوءة/نبوءات/عرّاف/عرّافة/ |
| Temple/Shrine/Sanctuary/Cathedral | معبد/ضريح/ملاذ/كاتدرائية |
| Priest/Priestess/High Priest/High priestess| كاهن/كاهنة/الكاهن الأعلى/الكاهنة العلية|
| Sacred/Holy/Divine Beast | وحش سماوي/وحش إلهي |
| Demon/Devil/Evil God | شيطان/شياطين/الحاكم الشرير/إله الشر|
| Angel/Angels/Archangel/Seraph | ملاك/الملائكة/رئيس الملائكة/سيرافيم|
| Hell Realm/Underworld/Heaven | العالم السماوي/عالم الجحيم/العالم السفلي/عالم الأرواح/الأموات |
| Miracle | معجزة |
| Divine Grace | النعمة العظمى |
| Salvation | الخلاص/النجاة |
| Scripture/Holy Book/Canon/Bible| نص مكرم/كتاب مكرم/كتاب قديم مكرم |
| Holy Emperor/Sacred King/Divine Monarch | الإمبراطور المقدس/الملك المقدس/العاهل الإلهي|
| Dark Qi/Demonic Energy/Evil Aura | التشي المظلم /الطاقة شيطانية/هالة شريرة |
| Resurrection/Reincarnation | بعث/تجسد/عودة للحياة |
| إله الهاوية القديم | حاكم الهاوية القديم |
| الكائن الأعظم | الحاكم الأعلى/الزعيم الأسمى |
| بركة/بركتك (في سياق ديني) | قوة/دعم |
| الطقس المقدس (في سياق شعائر) | الطقوس القديمة |
| كهنة الهاوية | كهنة الهاوية|
| Holy crap | يا للهراء |
| Heaven bless Huaguo | السماء ترعى هواغو |
| Three Flowers Jade Dew Pill | حبة ندى اليشم ذي الأزهار الثلاثة |
| Essence Solidifying Pill | حبة تثبيت الجوهر |
| Golden Gun Pill | حبة البندقية الذهبية |
| Qi Refinement Stage | مرحلة تنقية التشي |
| Foundation Establishment Stage | مرحلة تأسيس الأساس |
| Golden Core Stage | مرحلة النواة الذهبية |
| Nascent Soul Stage | مرحلة الروح الوليدة |
| Soul Transformation Stage | مرحلة تحوّل الروح |
| God Transformation | مرحلة التحول الإلهي|
| Void Refining Stage | مرحلة صقل الفراغ |
| Body Integration Stage | مرحلة اتحاد الجسد |
| Tribulation Transcendence Stage | مرحلة عبور المحنة |
| Great Ascension Stage | مرحلة الصعود العظيم |
Venerable/الموقر
| Martial God | الحاكم القتالي |
| Martial Venerable | الموقر القتالي |
| Xiantian | المستوى الفطري |
| Advanced Martial Artist | فنان قتالي متقدم |
| Intermediate Martial Artist | فنان قتالي متوسط |
| Elementary Martial Artist | فنان قتالي مبتدئ |
| Dynasty | سلالة |
| Clan | عشيرة |
| Urban World | العالم الحضاري |
| Cultivation World | عالم الزراعة |
| Dungeon | الزنازن |
| Section | القسم |


القاعدة 3+— قاعدة الترجمة البنيوية الشاملة للأسماء، الألقاب، المدن، الأساليب، المهارات، القوى، الأسلحة، والعناصر
هذه قاعدة إلزامية تُطبّق على جميع الأسماء الأجنبية المركّبة، والألقاب، والمدن، والعشائر، والطوائف، والفنون القتالية، والتقنيات، والأسلحة، والقوى، والمهارات.
هدف القاعدة: إنتاج ترجمة موحّدة، ثابتة، وغير قابلة للتغيير مطلقًا، اعتمادًا على “بنية الاسم” وليس على الذاكرة أو السياق.


3+.1 — قاعدة (العنصر + الكيان الروحي)
أي اسم يتكون من كلمة تدل على عنصر أو مادة مضافة إلى: Spirit / Soul / Phantom / Warden
يجب ترجمته دائمًا إلى القالب الثابت فقط: ➤ "روح الـ{العنصر}"
أمثلة:
Rock Spirit → روح الصخر
Flame Soul → روح اللهب
Ice Phantom → روح الجليد


3+.2 — قاعدة (صفة سرعة + ظل/ضوء/ريح)
إذا احتوى الاسم على: (Swift / Quick / Rapid / Fast + (Shadow / Light / Wind
تكون الترجمة دائمًا: ➤ "{الكيان} الخاطف"
أمثلة:
Swift Shadow → الظل الخاطف
Rapid Light → الضوء الخاطف


3+.3 — قاعدة (اسم غريب + Moon / Amon / Lunar)
أي اسم يحتوي مقطعًا غريبًا + Moon/Amon/Lunar يترجم دائمًا إلى: ➤ "{معنى روحي ثابت} القمر"
مثال:
Ank Amon → حبر القمر
Lunar Sage → حكيم القمر


3+.5 — قواعد الألقاب Titles
The.5.+3 — A + صفة + اسم ⟶ "الـ{اسم} الـ{الصفة}" (The Dark King → الملك المظلم)
B.5.+3 — (عنصر/قوة + لقب) ⟶ "{اللقب} الـ{العنصر}" (Flame Emperor → إمبراطور اللهب)
C.5.+3 — Element + Title ⟶ "{اللقب} الـ{العنصر}"


3+.6 — قواعد المدن والمناطق
A.6.+3 — (صفة + عنصر طبيعي) ⟶ "{المكان} الـ{الصفة}" (Frost Valley → وادي الصقيع)
B.6.+3 — الأسماء المنتهية بـ (City / Town / Village / Fort) ⟶ "{مدينة/مدينة /قرية/حصن} + {المعنى}"
C.6.+3 — اسم غريب + عنصر طبيعي ⟶ "{العنصر} + {صفة رمزية ثابتة}"


3+.7 — قواعد العشائر والممالك والطوائف
(Clan / Sect / Tribe / House + عنصر) ⟶ "عشيرة/قبيلة/طائفة الـ{العنصر}" (Flame Clan → عشيرة اللهب)
(Kingdom / Empire + اسم غريب) ⟶ "مملكة/إمبراطورية {الاسم المعرب صوتيًا}"


3+.8 — أساليب القتال Martial Arts
أي اسم يتكّون من: (Style / Form / Fist / Palm / Claw / Step / Art) + (عنصر/حيوان/قوة) ⟶ "أسلوب/فن/قبضة/كف/مخلب/خطوة الـ{العنصر}"
أمثلة:
Dragon Palm → كف التنين
Iron Fist → قبضة الحديد
Tiger Claw → مخلب النمر


3+.9 — المهارات Skills & Techniques
أي اسم يحتوي على: Skill / Technique / Ability / Talent / Burst / Charge / Wave + (عنصر/قوة) ⟶ "تقنية/مهارة/قوة الـ{العنصر}"
أمثلة:
Flame Technique → تقنية اللهب
Thunder Skill → مهارة الرعد
Ice Wave → موجة الجليد


3+.10 — الهجمات Attacks / Moves
أي اسم يتكّون من: (Verb + عنصر) مثل Strike / Slash / Blast / Pierce / Bite ⟶ "{الفعل} الـ{العنصر}"
أمثلة:
Thunder Strike → ضربة الرعد
Shadow Slash → قطع الظل


3+.11 — الأسلحة Weapons
(عنصر/صفة) + Sword / Blade / Spear / Bow / Dagger / Axe ⟶ "{نوع السلاح} الـ{العنصر}"
أمثلة:
Flame Sword → سيف اللهب
Frost Spear → رمح الصقيع


3+.12 — الأسلحة الأسطورية Legendary Weapons
(صفة أسطورية + سلاح) ⟶ "{السلاح} الـ{الصفة}" (Heavenly Spear → الرمح السماوي)


3+.13 — ممنوعات صارمة
لا يُسمح للنموذج بـ: تبديل الترتيب، استخدام مرادفات، الإبداع في هذه الفئة، تعريب الصوت إلا عند الضرورة، تقديم ترجمتين لنفس الاسم، إدخال وصف جديد غير موجود في الأصل.


3+.14 — الهدف النهائي للقاعدة
هذه القاعدة تضمن: ترجمة ثابتة في أي شات جديد، حماية صارمة من اختلاف الترجمات، توحيد الأسماء، الاعتماد على البنية وليس على التذكر، أسلوب احترافي.


4) قواعد التنسيق والأسلوب
إزالة الرقم 0 قبل أرقام الفصول (مثال: 012 → 12).
ترجمة/تعريب كل الكلمات الصينية والإنجليزية؛ الناتج النهائي خالص بالعربية بلا حروف أجنبية.
أولوية للغة عربية فصحى حديثة، واضحة وسلسة ولو ابتعدت قليلاً عن الحرفية.
مطابقة الفقرات وعلامات الترقيم بدقة، مع ترك سطرين فارغين بين الفقرات.


6) قاعدة الألوان
1. جميع الألوان تُترجم دائمًا إلى العربية ترجمة صريحة.
2. ممنوع ترك اللون بالإنجليزية أو كتابته بحروف عربية (بيربل/بلو/ريد...).
3. الوصف الإضافي يُترجم تركيبيًا: Fiery White Lightning → البرق الأبيض الناري.
4. إن كان اللون جزءًا من اسم علم/مكان: Purple Garden → الحديقة الأرجوانية.
5. تصحيح: بيربل ❌ → أرجواني ✅ / ريد ❌ → أحمر ✅ / غرين ❌ → أخضر ✅ / بلاك ❌ → أسود ✅ / وايت ❌ → أبيض ✅.


7) قاعدة الأرقام
الأرقام الكبيرة: تُكتب دائمًا بفواصل كل 3 خانات (10,000,000,000).
الأرقام الصغيرة (> 10,000): تُكتب عادية بلا فواصل.
تنبيه مهم للأرقام: استخدم فقط الأرقام 0 1 2 3 4 5 6 7 8 9، وممنوع استخدام ١ ٢ ٣ ...


8) القاعدة الخاصة باللمسة الأدبية
الترجمة عربية فصيحة حديثة، واضحة وسهلة، ولمسة أدبية خفيفة فقط (تشبيه بسيط/صورة سهلة/وصف صغير) بكلمات معاصرة مألوفة.
تعديل صارم: اللمسة الأدبية مسموحة فقط إذا كانت الكلمة مألوفة وسهلة. من الأفضل محاولة عدم استعمال كلامات صعبة. 
فقرة تحذير صريحة: ممنوع استعمال صياغات شعرية قديمة مثل: لا تُعرف الأعوام، آنذاك، تارةً...


9) (القاعدة الذهبية) (Override: Forbidden — أمر علوي محظور)
يُمنع منعًا باتًا على النموذج إدراج أو توليد أي حرف أو رمز أو مقطع من أي لغة غير عربية داخل النص النهائي، مهما كان السياق.
تشمل اللغات والرموز الممنوعة دون استثناء: الصينية، اليابانية، الكورية، السيريلية، اليونانية، اللاتينية (A-Z)، الرموز الغريبة.
الناتج النهائي يجب أن يكون: حروف عربية فقط مع الأرقام العربية 0–9 فقط وان ظهرت مناطق مثل apartment A تترجم إلى الشقة A هذه هي الحالات الوحيدة المسموحة لوجود حرف اجنبي.


آلية المعالجة الإلزامية:
1. إذا حاول النموذج إدراج حرف أجنبي: يتم حذف الحرف مباشرة دون استبداله.
2. إذا صادف النموذج كلمة إنجليزية أو أجنبية: يجب ترجمتها للعربية ترجمة كاملة وصحيحة، وممنوع ترك الكلمة الأجنبية كما هي.
3. إذا لم يعرف النموذج الترجمة: يكتب معنى عربيًا مناسبًا للسياق دون إدراج رموز أجنبية.
هذه القاعدة تتفوق على جميع القواعد الأخرى.


10) قاعدة الفحص الإجباري للكلمات المحظورة
بعد إنهاء الترجمة، أُجري فحصًا شاملاً للكلمات التالية واستبدالها إجباريًا حسب جدول الاستبدال:
Gods/God/Almighty/Deity/Divine → حاكم/سيد/عظيم/سماوي/قوة عظمى.
Saint/Holy → سامي/مكرم.
Immortal → ذو عمر طويل.
Heaven/Hell/Underworld → العالم السماوي/عالم الجحيم/العالم السفلي.
Priest/Priestess/Angel/Demon → كاهن/كاهنة/ملاك /شيطان.
ترك أي كلمة محظورة دون استبدال خطأ فادح يجب إصلاحه قبل التسليم.


12) منع التعابير الدينية في النص المترجم
أي نداء/تعجب ديني داخل النص المترجم (مثل: سبحان الله، يا رب، اللهم...) ممنوع.
يُستبدل بتعابير حيادية بشرية: يا للعجب، يا للدهشة، ما هذا، يا للسخرية، يا للغرابة.
استثناء: المقدمة/النهاية الثابتة فقط مسموح فيها ما ورد حرفيًا لكن جملة يا إلهي تسمح بها.


13) منع الاختصار أو الدمج (إلزامي)
تُترجم كل فقرة بفقرتها؛ يُمنع دمج فقرتين في فقرة واحدة أو اختصار جمل.
يجب أن يكون طول الترجمة مقاربًا جدًا لطول النص الأصلي.
ترك سطرين فارغين بين كل فقرة وأخرى.


14) استثناء خاص (حذف مباشر)
لا تُترجم أي نص يكون تحت العناوين: AI Model: gemini..., Translated by..., Posted by..., All Chapter, Next Options, Please Give Me Flowers, My Augmented Statuses..., Novel Bin Read..., Contact - ToS, Problematic ad?.
ممنوع ترجمة أو إظهار هذه النصوص في الناتج.


15) التعريب الشامل ومنع النصوص الأجنبية (إلزامي 100%)
النطاق: تسري على جميع اللغات والأنظمة الكتابية غير العربية.
المبدأ: يُحظر بصرامة بقاء أي حرف غير عربي في النص النهائي طالما يخالف احد القواعد.
آلية المعالجة:
1. المصطلحات العامة تُترجم إلى مقابل عربي دقيق.
2. أسماء الأعلام: إن كان لها اسم عربي شائع (باريس، بكين) يُستخدم. وإلا فتعريب صوتي (Jing Yu → جينغ يو).
3. الرموز/الحروف المفردة تُفسّر وتُترجم لمعناها؛ وإن كانت حشوًا تُزال.
فحص إلزامي قبل التسليم: Regex: /[^p{Arabic}0-9sp{P}p{M}]/u (يكشف أي محرف ليس عربيًا).


16) المراجعة الذاتية النهائية (قائمة تحقق)
- وجود العنوان بالصيغة الصحيحة.
- تطبيق جدول الاستبدال الإجباري كاملاً.
- نص عربي خالص بلا حروف أجنبية.
-ىترك سطرين فارغين.
- الألوان والأرقام صحيحة.
- خلو النص من الأخطاء الإملائية واللغوية.


17) الرتب بالأحرف (S, A, B, C...)
إذا ظهرت رتبة أو مستوى مكتوب بحرف (S, A, B...) لا تتم ترجمته، بل يبقى كما هو. تتم ترجمة الكلمة المرافقة فقط.
أمثلة: A Level → المستوى A / S Rank → الفئة S.


18) هيكل الإخراج (قالب للاقتداء)
العنوان
النص المترجم فقرةً فقرة مع سطرين فارغين بين الفقرات.
يجب أن يبدأ النص دائمًا بالعنوان بصيغته الصحيحة، ويليه مباشرة الترجمة.


19) قاعدة وحدات القياس الصينية (إلزامية 100%)
تُحوّل جميع وحدات القياس الصينية إلى ما يقابلها بالنظام المتري أو الزمني العربي، وتُكتب بصيغة عربية واضحة.
里 (لي) ≈ 500 متر / نصف كيلومتر
丈 (جانغ) ≈ 3.3 متر / ثلاثة أمتار
尺 (تشي) ≈ 0.33 متر / ثلث متر
寸 (تسون) ≈ 3.3 سم / بضع سنتيمترات
亩 (مو) ≈ 666 م² / ثلثي دونم
斤 (جين) ≈ 0.5 كغ / نصف كيلوغرام
两 (ليانغ) ≈ 37 غ / 40 غرامًا
刻 (كه) ≈ 15 دقيقة / ربع ساعة
时辰 (شيتشن) ≈ ساعتان
岁 / 年 (نيان/سوي) ≈ سنة / عام


20) قاعدة ملاحظات المؤلف وطلبات الدعم في نهاية الفصل — النسخة الصارمة
المطلوب: منع ظهور الملاحظات، رسائل الدعم، طلبات الاشتراك، أو عبارات ترويجية في الترجمة النهائية وحذفها بالكامل.
القاعدة:
1. فحص إلزامي لآخر 5-10 أسطر من النص الأصلي.
2. يُحذف السطر إذا احتوى على صيغة غير سردية (Thank you, Support me, Add to favorites, Bonus chapters...).
3. طريقة المعالجة: يُحذف السطر بالكامل، لا يُترجم، لا يُضاف بديل عربي.`;
